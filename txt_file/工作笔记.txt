
<div id="buyer" class="mini-datagrid" style="width:80%;min-height: 100px;" allowResize="false"
                 idField="id" showPager="false"  allowCellSelect="true" >
                <div property="columns">
                    <div field="name" name="name" width="33.3%" headerAlign="center" align="center">买方</div>
                    <div field="phone" name="phone" width="33.3%" headerAlign="center" align="center">手机号</div>
                    <div field="deal_role_name" name="descp" width="33.3%" headerAlign="center" align="center">类别</div>
                    <div type="checkboxcolumn" width="33.3%" field="choose" headerAlign="center" trueValue="1" falseValue="0" align="center">选择</div>
                </div>
            </div>
            <div id="seller" class="mini-datagrid" style="width:80%;min-height: 100px;" allowResize="false"
                 idField="id" showPager="false" allowCellSelect="true" multiSelect="true">
                <div property="columns">
                    <div field="name" name="name" width="33.3%" headerAlign="center" align="center">卖方</div>
                    <div field="phone" name="phone" width="33.3%" headerAlign="center" align="center">手机号</div>
                    <div field="deal_role_name" name="descp" width="33.3%" headerAlign="center" align="center">类别</div>
                    <div type="checkboxcolumn" width="33.3%" field="choose" headerAlign="center" trueValue="1" falseValue="0" align="center">选择</div>
                </div>
            </div>
			
			
			<div id="surenumber" class="mini-datagrid" style="width:100%;min-height: 100px;" allowResize="false"
                 idField="id" showPager="false" multiSelect="true" allowCellWrap = "true" allowCellEdit="true">
                <div property="columns">
                    <div field="sendPerson" name="sendPerson" width="18%" headerAlign="center" align="center">通知对象</div>
                    <div field="sendNumber" name="sendNumber" width="18%" headerAlign="center" align="center">手机号码</div>
                    <div field="tempNumber" width="60%" headerAlign="center">临时号码（若无请留空，若有填写手机号码及临时号码都会下发通知短信）
                        <input property="editor" class="mini-textbox fk_input" style="width:100%;"/>
                    </div>
                </div>
            </div>

			console.log(sellerBuyerInfoData)
    var buyer=[]
    var seller=[]
    var buy=mini.get("buyer");
    var sell=mini.get("seller");
    for (var i = 0,sblen = sellerBuyerInfoData.length; i < sblen; i++) {
        if(sellerBuyerInfoData[i].type == 1) {
            buyer.push(sellerBuyerInfoData[i])
        }else {
            seller.push(sellerBuyerInfoData[i])
        }
    }
    buy.setData(buyer)
    sell.setData(seller)
			
qrtz_job_details;qrtz_triggers

2020-08-25
WEB-INF/jsp/loan/bizinfo/fk_renyuanjiquanxian.jsp
mini.mask({
                el: document.body,
                cls: 'mini-mask-loading',
                html: '提交中...'
            });

2020-08-17 
代办补录的产品下拉列表显示出错的原因：猜测是因为ID与其他地方冲突
代办补录测试服递件日期不能保存的问题，是因为在测试服sys_bo_attr表的EXT_JSON_字段格式问题，需改成与开发服一样
补录中的进度执行结果，保存日期时总少一天的问题，应该用getText()，而不是getValue()

系统事项、升级提醒

升级提醒>系统事项
2020-08-03
使用valuefromselect="true" 后，不能成功回显数据

2020-07-03
排名、
拓展、
未收费率、			(签件宗数-收费宗数)/签件宗数
未收费宗数、		签件宗数-收费宗数
实收宗数、			实收宗数
宗数环比上月		上月实收宗数、本月实收宗数


2020-06-28
先由超级管理员配置好各个产品总的催办提醒定义，
//中心六区：440103 荔湾区 ,440104越秀区,440105海珠区,440106天河区,440111白云区,440112黄埔区,440116萝岗区,440119开发区
  int areaArr[] = {440103, 440104, 440105, 440106, 440111, 440112,440116,440119};

2020-06-16
1.查封人首次存不上的问题：onblur方法需在另外一个地方也定义
2.驳回后重新指派不能同步原因：驳回后再指派环节已有人，没取新指派的人
列表中的风险一级审批人原本采用了如果bpm_node_jump表没有，就从bpm_inst_user表取。
这样还是有点问题的：如果一个案件走过一级审批环节又驳回了，这个时候再指派，列表中取的就不是指派的人，因为这个时候bpm_node_jump是有数据的，取的是驳回前的那个人

2020-06-12
银行-支行	银行经办人员  姓名_电话

SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd");
String nowTime=sdf.format(new Date());
log.info(">>>>>上次设置缓存时间："+lastTime+"，当前时间："+nowTime);
if (lastTime==null||!nowTime.equals(lastTime)){//未设置过缓存，或为昨天的缓存
	lastTime=nowTime;
	log.info(">>>>>未设置过缓存，或为"+lastTime+"的缓存");
	wCaseInfoManager.getAllEffectiveHandler(null);//重新查询银行经办人员的缓存
}

(SELECT IFNULL(USER_NAMES,'') FROM bpm_inst_user  WHERE NODE_ID_='sid-A8190A0F-4153-4FA8-9FFB-B069DF203999' and INST_ID_=b.INST_ID_) riskFirstApprover
(select IFNULL(ou.FULLNAME_,'') from bpm_node_jump bnj  LEFT JOIN os_user ou on bnj.HANDLER_ID_=ou.USER_ID_ where bnj.NODE_ID_='sid-A8190A0F-4153-4FA8-9FFB-B069DF203999' AND bnj.act_inst_ID_=b.ACT_INST_ID_ ORDER BY bnj.COMPLETE_TIME_ DESC LIMIT 1) riskFirstApprover
				

2020-05-23
PortalScript在spring-bean.xml
FlowScript在spring-activiti.xml
appBeanUtil在spring-base.xml

2020-05-28
1.修复APP这边待确认业绩与bpm有出入的问题：
  APP这边用的写法	and lfcr.CHARGE_CHARACTER in (1,3) 有问题（1和3不冲突），改为原本的1在外，3在内，有1才有3

2020-05-20 
1.进度执行结果新增放款日期字段，改为一对四，根据产品来隐藏不需字段
2.判断该取哪个部门的
  部门拓展、部门签件

2020-05-19
待签约案件添加个状态：已认领。已认领的案件虽然可以在大家的待签约列表看到，但只有认领的人才可以操作
2020-05-18
1.BPM的进度表等三个接口
2.去掉我写的新版APP下单到BPM
3.优化项遗留bug

2020-05-13
1.优化存储过程
2.BPM的进度表等三个接口
3.接口文档
4.优化项

2020-05-11
1.待完成：取主管的业绩最好的部门显示，龙虎榜中仅有效部门参与排名
2.BPM首页数据修改为从新项目接口中取
3.进度表接口数据处理

2020-05-09
因旧数据没有案件附属表对应信息而导致的bug，需用以下代码->(data.sub.case_info_subjoin &&data.sub.case_info_subjoin.deliver_receipt)||''
										   不能直接->data.sub.case_info_subjoin.deliver_receipt

查询部门下的拓展用户排名：
1.查询上月风控、按揭、服务费的
2.查询本月风控、按揭、服务费的
3.查询上月

										   
查询龙虎榜：
1.查询上月风控、按揭、服务费的
2.查询本月风控、按揭、服务费的
	3.利用1的临时表取得上月部门数据
	4.利用2的临时表取得本月部门数据
5.关联3和4的sql求出所有部门的排名、环比上月等
6.查询出各部门主管得到龙虎榜并返回


主管的拓展、签件数据类似于个人的，传部门所有人的ID
		查询主管部门拓展的排名
		1.查询本月风控、按揭、服务费的
			2.利用临时表取得本月部门数据
		3.利用2的sql求出各部门的排名
		4.根据部门ID得到该部门的排名

		查询主管部门签件的排名
		1.查询本月签件的按揭、风控数据
			2.利用临时表取的本月部门数据
		3.调用2的sql求出排名
		4.根据部门ID得到该部门的排名

2020-05-07
1.程序里面整数相除不会保留小数，而是四舍五入了，例3/6会等于0，这个时候要采用3*1.0/6
2.sql里面a and b and (c or d) 必须将后面部分括住

2020-05-05
主管查询上月的时候，需不需要考虑人员调动？
龙虎榜参与排名的是机构下的所有部门，还是只是有效部门（至少含有一个签件或拓展）？
龙虎榜
1.机构下所有部门的排名

2020-04-29
1.SELECT DATE_FORMAT(fc.CHARGE_DATE_, "%Y-%m-%d")



2020-04-28
1.在一个查询中创建的临时表在另外的查询中不可用
Run Configurations->Arguments：--spring.application.name=bpmmgr-dev

3.EffectiveDeptInfo edis= osGroupMapper.getEffectiveDepts(accountId+"").get(0);//查询主管负责的部门信息
	HashMap<String,String> map=new HashMap<>();
	map.put("userId", user.getUserId());
	map.put("instId", user.getTenantId());
	map.put("phone", user.getMobile());
	map.put("lastMon",DateUtil.dateFormat(DateUtil.addDate(Calendar.MONTH, -1),"yyyy-MM"));
	map.put("thisMon",DateUtil.dateFormat(new Date(),"yyyy-MM"));
	map.put("matchDay",com.liangce.lcfex.utils.DateUtil.getLastMonthSameDay());
	if(edis.getTuozhanNum()>0) {//只要有拓展，均查询拓展数据
		map.put("type","tuozhan");
		businessZhuguanMapper.generateData(map);
		businessZhuguanMapper.getZhuguanOperData(user.getUserId(), edis.getGroupId(),
				DateUtil.dateFormat(new Date(),"yyyy-MM"));
	}else if(edis.getQianjianNum()>0) {
		map.put("type","qianjian");
		businessZhuguanMapper.generateData(map);
	}

2020-04-27
根据手机号判断人员：1.签件 2.拓展 3.主管 4.其他

如是主管，查询其主管的所有人员数不为0的部门，查询部门里所有人的业绩

主管的拓展->
法1		查出所有拓展的ID，根据拓展ID查询所有的单个数据，排名特殊计算
法2		查出主管的部门，根据部门查询出
职级任务：主管的用户职级任务
排名：龙虎榜中的排名，即所有部门里面的排名
实际实收宗数：部门下所有人的宗数
实收业绩：部门下所有人的业绩
待确认业绩：部门下所有人的待确认业绩
总业绩：实收业绩+待确认业绩
实收业绩环比上月：
实收宗数环比上月：
总业绩环比上月：

主管的签件：
职级任务 
签件数
完成率
签件数环比上月





1.存储过程中一定要注意单引号、双引号的使用，银行服务费报错的原因就是字段赋空值时使用了单引号和外面冲突
2.自动生成代码工具唤起命令界面方法：按住shift键，右击对应文件夹，会多出一个选项，点击即可

2020-04-24
1.纯抵押、信用贷客户沟通结果环节同贷日期录不上的原因：字段命名错误，应该是bus_agree_loan_date而不是agree_loan_date
2.必填项校验失败的原因，最终返回        return {checked:checked,errorMsg:errorMsg}没有实际用到，且在其上一个方法_preProcessing中需要添加判断为false时直接return的代码
3.是否主拓展回显出错的原因：应用record.tmp_is_primary==1而非record.tmp_is_primary
return record.tmp_is_primary==1 ? '<input type="radio" onclick="onTmpIsPrimaryChanged(this)" checked name="tmp_is_primary"/>' : '<input type="radio" onclick="onTmpIsPrimaryChanged(this)" name="tmp_is_primary"/>';

2020-04-23
修复纯抵押送放款交易资料tab不显示的原因：纯抵押无评估价，在HTML中去掉后在js中没有去掉导致出错
2020-04-22
当表单中的某个元素处于hide状态时，required不会再对其必填项做校验，所以需要程序中处理
mini的datagrid有个方法，双击某行执行 onrowdblclick ="showTask(e)"

2020-04-16
1.<if test='riskNodesName.indexOf("等待") == -1 and riskNodesName.indexOf("触发") == -1 
					and riskNodesName.indexOf("退案") == -1 and riskNodesName.indexOf("结案") == -1 and riskNodesName.indexOf("中止") == -1 
					and riskNodesName.indexOf("审批不通过") == -1 and riskNodesName.indexOf("扣款成功回款") == -1 and riskNodesName.indexOf("未扣款回款") == -1 
					and riskNodesName.indexOf("他项权证解保") == -1 and riskNodesName.indexOf("保函作废解保") == -1 '>
					and exists(select * from act_ru_task art1 where art1.PROC_INST_ID_ = b.ACT_INST_ID_ and art1.NAME_ like '%${riskNodesName}%')
				</if>
2.BPM首页报表数据的设计，由于盒子位置的调换，导致出现问题。
  04-17解决办法是再次定义一个全局变量times，记录盒子对应接口执行的次数，当为6的倍数次时重新调用获取业绩信息的方法
  通过这个，对全局变量也有了一个新的认识
3. 用reset命令，可以回退到某次提交，那该提交之后的提交都会回滚，不过这种覆盖是不可逆的，之前的提交记录都没有了。所以平时开发中尽量注意
	git  reset --hard 25339f7c2470e98cda29ed74412efa91e4917dea
4.重命名git分支名称
?1、git branch -m 要改的本地分支名 修改后的分支名(修改本地分支)

?2、 git push origin :远程修改前的分支名（删除远程分支）

?3、git push origin 修改后的分支名:修改后的分支名（push 到远程分支）

?4、git branch --set-upstream? 修改后的分支名 origin/修改后的分支名（绑定远程分支）


2020-04-15
原来idea自带反编译class文件的功能，MyEclipse可能也可以
row++;//实现譬如 1、1、2、2、3、4、5、5 的排名->排名连续
row=i+1;//实现譬如 1、1、3、3、5、6、7、8 的排名->排名间断
2020-04-14
因为数据库版本问题导致65不可以直接通过XML获取排行，
在将排行的获取由XML移至方法中时，开始将返回的集合定义为List<HashMap<String,String>>这导致了某个字段比如userPerformance为double型时报错->java.lang.ClassCastException: java.lang.Double cannot be cast to java.lang.String，
后将返回类型改为List<HashMap<String,Object>> 就解决了。

2020-04-13周一
1.os_user用户表的一个手机号可能对应多条用户，因此不能通过手机号获取用户ID、机构id，所以采用多传用户ID、机构id的方式。
  而APP那边调用的时候，无法使用ContextUtil类来获取用户ID、机构id

	  
2020-04-09~~~完成BPM首页报表数据的呈现
1.银行服务费表的设计，设计时的批次ID在不同机构下也不同，比如a机构有1、2、3批次，b机构下也可以有1、2、3批次
  所以在关联服务费拓展表的时候，不能单纯的将批次ID与拓展表对应，还需要将机构也对应。
  所以系统中可能有的地方的设计是有误的，特别是报表，不过多数后面跟机构条件的是正确的。
2.使用DecimalFormat df = new DecimalFormat("0.00");df.format(double)将保留小数点后两位
3.PortalScript里的使用		
  消息盒子的模版，d表示InsMsgBoxEntity实体，url、icon、count、title、boxData是实体的属性(其中boxData是map型，有个key是solCounts)
<div class="card">
 <ol class="cardUl">
 <#list data.obj as d>
 <li class="p_top">
 <#if d.url><a href="${ctxPath}${d.url}" target="_blank"></#if>
  <#if d.url==null><a href="javascript:;"></#if>
 <div class="cardBox" url="${ctxPath}${d.url}">
 <div class="cardBox_right">
 <div class="tubiao_right">
 <span class="iconfont ${d.icon}">
</span>
 </div>
 </div>
 <div class="cardBox_left">
 <p class="num"  style="font-size:18px;">
<#if d.boxData.solCounts>${d.boxData.solCounts}</#if>
<#if d.boxData.solCounts==null>${d.count}</#if>

</p>
<br>
 <h5>
${d.title}</h5>
 </div>
 </div>
  </a>
 </li>
 </#list>
 <h1 class="clearfix">
</h1>
 </ol>
 </div>
4.Java实现千位分隔符
DecimalFormat df = new DecimalFormat("#,##0.00");
df.format(num);//实现千位分隔符

2020-04-07
1.使用对象较map的好处之一是使用对象可以方便的看到里面有哪些属性，而使用map时必须要到XML中才可以看到
2.sql中如果想要获得某条记录在所有记录中的排序，可定义变量set @xu;然后在sql中这样引用@xu:=@xu+1
3.上传图片报错：org/bouncycastle/jce/spec/ECPublicKeySpec，重启服务器可解决
4.别人将新分支推到远程后，需git pull后才能切到这个新分支，不能直接切
	  
SELECT VERSION();用于获取当前 Mysql 的版本。

2020-03-30
1.关于表单需要注意的几点
  name、id、textname(实现一个组件同时赋值或获取数据库的ID和name)都要一一对应，textfield、valuefield也要对应，
  valuefromselect="true" 不可乱加，会导致数据无法回显
  其中textname实现一个组件同时赋值或获取数据库的ID和name，textfield和valuefield来自下拉列表数据获取的接口中
2.formOperatorInfo = mini.get("grid_operator_info").getData()中并没有定义id为grid_operator_info的组件，但如果加上name为operator_info的表单却不报错，去掉却报错了。不知为什么
3. data.person_type = person_type||1;//zcl 2020 -03-30后加||1实现类别默认选中个人
2020-03-19
1.MINI的input的textfield属性的值应表示要显示在下拉列表的选项，valuefield表示下拉列表选项对应的value

2.给全职赋予了导出权限后，他的对应报表的导出按钮还是置灰状态解决办法：
需要先通过sadmin在‘机构类型’那里给按揭公司-良策网络机构赋予权限，然后再登录良策网络机构账号给全职分配权限

2020-03-13周五
1. <input name="return_case_type" id="return_case_type" class="mini-radiobuttonlist rxc"  plugins="mini-radiobuttonlist" label="return_case_type" textname="return_case_type_name" length="20" defaultvalue="" from="dic" dickey="TALX" mwidth="0" wunit="px" mheight="0" hunit="px" textfield="name" valuefield="key" />
原本return_case_type_name存不进数据库，后来在上面代码中加入from="dic" dickey="TALX"后成功存进去
2.银行放款汇总表`proc_report3_0_business_bank_summary`一直存在的一个bug，
 如下，转按的前两个sum应该调至if的外部，组合贷款等其他产品的原本做法就是正确的
SET @aroundSql = CONCAT('
SELECT F_LOAN_SUB_BANK,

if(',@sqlIfHfund,',IFNULL(sum(ROUND(',@hfundLoanAmount,'/',@unit,',2)),0),0) aroundHfundLoanAmount,-------------------此句中的sum要放到if外面
if(',@sqlIfBus,',IFNULL(sum(ROUND(',@busLoanAmount,'/',@unit,',2)),0),0) aroundBusLoanAmount,-------------------此句中的sum要放到if外面

SUM(if(',@sqlIfBus,' or ',@sqlIfHfund,',1,0)) aroundCaseCount
FROM (',@drSql,@sqlWhereO,') t1 where TYPE_ID_ = 26 group by F_LOAN_BANK,F_LOAN_SUB_BANK');


2020-03-12周四
1.数据字典的数据页面中默认设值时，要用value=，defaultvalue是不生效的，下拉列表适用、单选按钮不适用
2.是否家庭唯一住房改为“是否业主家庭唯一住房”，多加了两个字导致格式混乱问题~解决办法：调整高度，使用line-height解决两行字间距较大的问题
2020-03-11
将checkAmount函数由各表单移至bpmTaskToStart.jsp，避免多表单重复写，修改时都要修改

2020-03-02
1.数据字典中的证件类型通过执行sql语句添加后，被添加的类型没有在界面中立即显示，而且即使清除缓存后也没显示，这个时候如果不是添加错误，就考虑重启服务器
2.修改流程节点名称：在act_ge_bytearray表中以blob格式存储
修改节点名称：
更新数据库节点名称：
UPDATE `liangce_loan_bpm`.`bpm_node_jump` set NODE_NAME_='委托确认书' where NODE_NAME_='上数' and ACT_DEF_ID_='anjieyewu:6:2510000021070007';
UPDATE `liangce_loan_bpm`.`act_hi_taskinst` set name_='委托确认书' where name_='上数' and PROC_DEF_ID_='anjieyewu:6:2510000021070007';
UPDATE `liangce_loan_bpm`.`act_ru_task` set name_='委托确认书' where name_='上数' and PROC_DEF_ID_='anjieyewu:6:2510000021070007';

UPDATE `liangce_loan_bpm`.`sys_dic` set NAME_='委托确认书' where NAME_='上数';
UPDATE `liangce_loan_bpm`.`loan_nodetype` set TYPE_NAME_='委托确认书' where TYPE_NAME_='上数';
UPDATE `liangce_loan_bpm`.`bpm_form_view` set NAME_='委托确认书' where NAME_='上数';
UPDATE `liangce_loan_bpm`.`bpm_sol_fv` set NODE_TEXT_='委托确认书' where NODE_TEXT_='上数' ;
UPDATE `liangce_loan_bpm`.`bpm_sol_user` set NODE_NAME_='委托确认书' where NODE_NAME_='上数' AND ACT_DEF_ID_='anjieyewu:6:2510000021070007';


2020-02-09
因破解过idea导致idea的激活码无法使用。通过撤销原破解效果使其可以再次使用
撤销方法：将C:\Users\pc\.IntelliJIdea2018.3\config路径下的  idea64.exe.vmoptions中对jar文件的调用去掉（D盘中也有，最好也去掉）

2020-01-21
使用find_in_set与使用or
WHERE  F_STATUS = "2" or F_STATUS = "3" or F_STATUS = "4"  AND F_IS_PRIMARY = "1"  
与find_in_set(F_STATUS,"2,3,4") AND F_IS_PRIMARY = "1"  

2020-01-25
1.另一种方法实现文件上传：MultipartFile，多个文件时定义数组
2.不定义id实现css设置submit格式，.rights form input[type=submit]{
3.REST风格的网站url

412902197305064278

2019-12-18
getDetail接口问题(65正常，线上出问题)
至于昨天说的图片过多的问题，我也跟国显说了下，看看是做图片数量的限制还是从技术上解决一下？

select * from mysql.user;

update user set password=password('123456') where user='root' and host='localhost';


2019-12-16周一
1.运营原始数据表中身份证号、手机号等敏感信息脱敏，原本采用将最后面的数据使用以下sql。后来发现了个问题，就是某些身份证号字段可能不止一个身份证，
可以有多个，这个时候要多个脱敏显示，而不是只显示一个脱敏其他不显示。刚开始一直在想怎么把多个用sql的subString_index函数拆分，越想越觉得这个函数
难以实现。后来灵机一动，因为最后面的身份证号是在前面通过groupConcat拼接起来的，去在这个拼接的地方直接脱敏后再拼接就完美解决问题了。唯一的缺点
就是略显麻烦，有二十多个地方地方需要改(2000多行的sql)

--直接修改查询出来的结果
if(ifnull(owner_id,"")="","",concat(left(owner_id,5),"***************"))

concat(left(owner_id,5),"***************")



concat(left(owner_phone,3),"*****",right(owner_phone,3))


if(ifnull(main_lender_id,"")="","",concat(left(main_lender_id,5),"***************"))
concat(left(main_lender_id,5),"***************")



if(ifnull(second_lender_id,"")="","",concat(left(second_lender_id,5),"***************"))

4/5/8/4



--修改查询过程中的数据
concat(left(sb.F_PHONE,3),"*****",right(sb.F_PHONE,3))

if(ifnull(sb.F_PHONE,"")="","",concat(left(sb.F_PHONE,3),"*****",right(sb.F_PHONE,3)))


concat(left(sb.F_ORGANIZATION_PHONE,3),"*****",right(sb.F_ORGANIZATION_PHONE,3))

if(ifnull(sb.F_ORGANIZATION_PHONE,"")="","",concat(left(sb.F_ORGANIZATION_PHONE,3),"*****",right(sb.F_ORGANIZATION_PHONE,3)))

2019-12-09周一
1.银行转介表总宗数与我司+银行宗数不相等问题
show variables like 'group_concat_max_len' ;-- 查看长度

SET GLOBAL group_concat_max_len = 102400; -- 修改长度

SET SESSION group_concat_max_len=102400; -- 用session让上述改动立即生效

12-06周五

1.调用存储过程方法(以银行转介表为例)---若想得到存储过程对应的查询语句，可在存储过程尾部加上 SELECT @selectSql;
SET @a=NULL;
SET @b=NULL;
SET @c=NULL;
SET @d=NULL;
SET @e=NULL;
SET @f=NULL;
SET @g='2530000022937712';
SET @h=0;
SET @i=100;
SET @j=-1;
SET @k=1;
SET @l=null;

CALL proc_report3_0_business_statistics_BankReferral(@a,@b,@c,@d,@e,@f,@g,@h,@i,@j,@k,@l);

2.测试服运营原始数据表在sadmin正常，而统计表机构报了500，报的错是：[Err] 1292 - Truncated incorrect DOUBLE value: '商业贷款'
在数据库中调用存储过程，传入sadmin的账号正常，传统计表机构的账号也是报的这个错误。
分析后发现如下所示，下方的第二行的2、3、7没有加引号，加上引号之后就好了。但是原本2、3也没加引号就没事啊，所以太奇怪了
if(wci.F_LOAN_TYPE ="1" or wci.F_LOAN_TYPE ="3" or wci.F_LOAN_TYPE ="4" or wci.F_LOAN_TYPE ="5" or wci.F_LOAN_TYPE ="7",if(ifnull(wci.F_BUS_LOAN_AMOUNT,"")="",0,wci.F_BUS_LOAN_AMOUNT),0) busLoanAmount,
if(wci.F_LOAN_TYPE = "2" or wci.F_LOAN_TYPE ="3" or wci.F_LOAN_TYPE ="7",IF(IFNULL(wci.F_HFUND_LOAN_AMOUNT,"")="",0,wci.F_HFUND_LOAN_AMOUNT),0) hfundLoanAmount,
3.银行转介表测试服正常，验收服报500的问题，没有打印错误日志，浏览器里面就能看到个null，调用存储过程也是正常的---后来在本地连了验收服务器，发现是有些案件的部门名称为空导致的
  这个问题之前是出现过的。
4.cp -rf LongMusic $(date +%Y%m%d_%H%M%S)		该Linux命令可实现将项目复制成以当前时间命名的文件

11-28周四
1.为给APP边案件添加案件进度的筛选，了解到mybatis的一个使用点。如下必须是外面单引号，里面双引号，否则会报numberFormatException
<if test='taskNodesName=="" or taskNodesName==null or taskNodesName=="等" or taskNodesName=="等待" or taskNodesName=="等待签" or taskNodesName=="等待签约" or taskNodesName=="待" or taskNodesName=="待签"
                    or taskNodesName=="待签约"  or taskNodesName=="签" or taskNodesName=="签约" or taskNodesName=="约" '>


11-27为了解决类型为机构时仍显示人号码的问题，修改了其接口的xml文件，但后来造成了很大的问题(FlowScript中也调用了该接口，这里为机构时也取个人的号码)


11-26周二
从当前页到另一页，如何做到在另一页被关闭后返回到当前页时刷新当前页

11-25周一
如何使已有案号的APP边案件签件后不再生成案号：在前端中向Wcaseinfo中传入案号，在FlowScript的setCaseNumber脚本中添加代码



11-21周四
在将APP那边的案件使用union并到BPM的待处理列表中时，出现了字段与字段对应不上的问题，
比如“创建时间”跑到”风控产品“那里，后来想了想，又在网上搜了搜，发现union的使用不仅
要将两边的字段对应，顺序也要对应，比如：one,two,three union one,three,two就会导致数据错乱，可参见taskMgr.map.xml

11-13
关于系统参数-"aj.order.onoff"的修改：直接修改数据库和通过浏览器修改不一样，通过浏览器修改会存入缓存中，
程序中是从缓存取的，所以导致从数据库修改效果一点儿也没改。



2019091100001
签约	1
案件配置	2
评估	3
跟件	4
录入	5
审核	6
递件	7
派单	8
网签	9
公证	10
复核	11
银行审批	12
终评	13
合同	14
预约递件	15
审核递件	16
送放款	19
放款	20
结案	21
业务审批	22
委托确认书	23


IDEA快捷键：
1.Alt+上键/下键可快速切换类中的方法
2.双击Enter可唤起文件查找窗口
3.Ctrl+Z撤销，Ctrl+Shift+Z取消撤销


2019-10-23
签件界面选择组合贷款时出现rollback错误

2019-10-17
eclipse或Myeclipse中web项目没有run on server
刷新web项目，在项目->右击->Properties->Project Facets->Modify Project，选择Java和Dynamic Web Module。点击ok关闭。




解决tomcat控制台乱码问题

打开tomcat/conf/logging.properties
找到java.util.logging.ConsoleHandler.encoding = UTF-8
修改为java.util.logging.ConsoleHandler.encoding = GBK


2019-10-11
指派的效果没有达到，并不是因为只改了bpm_inst_user没改act_ru_task。
而是只改了bpm_inst_user中的派单节点的用户，没有改递件节点。所以指派后的递件人员还是原本的

目前采用前端传递件的nodeid而非派单的

2019-10-10
担保业务占比选择全部产品后报json is error以及500。
是因为全部产品字段超过1000，而存储过程设置的是1000，改为10000后就好了

2019-10-08
不知道怎么回事，在本地运行出现了部分乱码（主要为js和css代码）的情况。数据也加载不出来
后经关荣帮忙找到是tomcat版本的问题，从tomcat8改为tomcat8Custom(自己配置的)后问题解决


6.
09-18银行转介表的总宗数与银行和我司宗数和相差较多，是group_concat拼接ID时导致的
数据库：GROUP_CONCAT 这个词是有默认长度的，最大1024，如果拼接的长度过长，就会被自动截取，所以需要修改数据库配置文件，把长度设大一点

5.
09-18送审汇总表的合计项突然消失了，关荣帮忙找到问题所在并解决：界面中typeId未删除，导致查询总和时传了typeId，而数据库中并无该typeID对应数据

4.送审明细表合计项开发、测试、验收均正常，但65上却出现都为0的情况。应该是数据类型使用double的原因，应用BigDecimal

1.报表在做合计项时出现合计项时而出现时而消失的情况

2.用户根据工作职责搜索时，因工作职责搜索条件可多选，只要满足一个的用户就应该搜索出来
比如搜索条件选择签约、评估、复核；数据库中某用户的职责为：签约、跟件，他就应该被搜索出来

3.报表的类型设置中出现有时黄总数据保存后为空的情况。后来分析后是如果进入后黄总的数据不动的话，就会默认被清除。然后相继解决掉了。







启动tomcat权限不够解决办法

在tomcat所在目录下使用命令：sudo chmod -R 777 apache-tomcat-8.0.53

 source /etc/profile
 
 
 
 tar.xz解压为tar
 xz -d mysql-8.0.17-linux-glibc2.12-i686.tar.xz
 解压tar
 tar xvf mysql-8.0.17-linux-glibc2.12-i686.tar
 
 df	占用
 du -sh *	列出文件占用空间
 
 rpm -qa | grep -i mysql
 
 使用软链接指向到：	ln -s /usr/local/mysql/mysql.sock /tmp/mysql.sock
 